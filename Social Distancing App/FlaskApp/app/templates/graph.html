{% extends "layout.html" %}
{% block content %}
    <div> <canvas id="chart"></canvas></div>


        <script>

            var lineData = {
                labels: [
                    {%  for detection in detections %}
                        "{{ detection.date_posted }}",
                    {% endfor %}
                ],
            datasets: [{
                   label: 'Number of violations',
                   data: [
                       {% for detection in detections %}
                            "{{ detection.numberOfViolations }}",
                       {% endfor %},


                   ],
                backgroundColor: 'rgba(255,99,132)',
                borderColor: 'rgba(255,99,132)'


            }]



            }
             var ctx =  document.getElementById("chart").getContext("2d");
             var myChart = new Chart(ctx,{
                 type: 'line',
                 data: lineData,
                 options:{
                     responsive: true,
                     legend: {
                         position: 'top',
                     },
                     title:{
                         display: true,
                         text: 'Chart showing violations in every frame'
                     }


                 }

             });

        </script>









{% endblock content %}